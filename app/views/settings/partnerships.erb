<h2 class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">Partnerships</h2>

<%= turbo_frame_tag "partnerships" do %>
  <%= render partial: "partnerships", locals: { partnerships: @profile.partnerships } %>
<% end %>

<h3 class="block mb-2 mt-10 text-sm font-medium text-gray-900 dark:text-gray-300">Add a partner</h3>

<p class="my-4">Send this URL to your partner or ask them scan this QR code to link your accounts.</p>

<div data-controller="clipboard" data-clipboard-success-content="Copied!" class="mt-1 flex flex-col md:flex-row rounded-md shadow-sm">
  <input class="py-3 px-2 outline-none flex-1 block rounded-none rounded-t md:rounded-l-md text-xs sm:text-sm border border-gray-300" type="text" value="<%= new_partnership_url(@partner, code: @profile.user.invite_code) %>" data-clipboard-target="source" />

  <button class="px-3 py-2 md:py-0 focus:outline-none rounded-b-md md:rounded-r-md border border-t-0 md:border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm" type="button" data-action="clipboard#copy" data-clipboard-target="tag">Copy to clipboard</button>
</div>

<div class="mt-2">
  <image src="<%= RQRCode::QRCode.new(new_partnership_url(@partner, code: @profile.user.invite_code)).as_png(fill: "#FFF").to_data_url %>" />
</div>
