<%= form_with(model: profile) do |form| %>
  <% if profile.errors.any? %>
    <div id="error_explanation" class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-lg mt-3">
      <h2><%= pluralize(profile.errors.count, "error") %> prohibited this profile from being saved:</h2>

      <ul>
        <% profile.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="my-5">
    <%= form.label :display_name, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300" %>
    <%= form.text_field :display_name, class: "block shadow rounded-md border text-slate-800 border-gray-200 outline-none px-3 py-2 mt-2 w-full" %>
  </div>

  <div class="my-5" data-controller="location" data-location-url-value="<%= geo_url %>">
    <%= form.label :location, class: "mb-2 text-sm font-medium text-gray-900 dark:text-gray-300" %>
    <div class="relative">
        <div class="flex absolute top-2 left-0 items-center pl-3 pointer-events-none font-extrabold text-2xl">‚åñ</div>
        <input type="text" class="block p-4 pl-10 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" data-location-target="locationField" />
        <%= form.hidden_field :lat, "data-location-target": "lat" %>
        <%= form.hidden_field :lon, "data-location-target": "lon" %>
        <%= form.hidden_field :city, "data-location-target": "city" %>
        <%= form.hidden_field :state, "data-location-target": "state" %>
        <%= form.hidden_field :country, "data-location-target": "country" %>
        <button data-location-target="locationButton" data-action="location#askLocation" class="text-white absolute right-2.5 bottom-2.5 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
          Find Location
        </button>
    </div>
    <p class="text-sm">We use this to show you people closer to you.  No sense in matching you with someone all the way around the world if you cannot meet them.</p>
  </div>

  <div class="my-5" data-controller="gender">
    <%= form.label :gender, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-gray-400" %>
    <%= form.select(:gender_id, Gender.all.map { |g| [g.label, g.id] }, {}, { "data-gender-target": "gender", "data-action": "gender#chooseGender gender#focusSpecifiedGender", class: "block p-2 mb-6 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" }) %>
  </div>

  <div class="my-5">
    <%= form.label "Orientation", class: "block mb-2 text-sm font-medium text-gray-900 dark:text-gray-400" %>
    <p class="">I am interested in</p>
    <%= form.collection_check_boxes(:gender_ids, Gender.all, :id, :label) do |box|
      box.label(class: "mr-2 text-sm font-medium text-gray-900 dark:text-gray-400") do
        box.check_box(class: "check_box ml-2") + " " + box.text.pluralize
      end
    end %>

    <hr>
    <%= form.check_box :show_orientation, class: "ml-2" %>
    <%= form.label :show_orientation, "Display my interest on my profile" %>
  </div>


  <div class="my-5">
    <%= form.label :children, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-gray-400" %>
    <%= form.select(:children, Profile::POSSIBLE_CHILDREN_CONFIGURATIONS, {}, class: "block p-2 mb-0 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500") %>
  </div>

  <div class="my-5">
    <%= form.label :relationship_style, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-gray-400" %>
    <%= form.select(:relationship_style, Profile::POSSIBLE_RELATIONSHIP_STYLES, {}, { "data-gender-target": "gender", "data-action": "gender#chooseGender gender#focusSpecifiedGender", class: "block p-2 mb-0 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" }) %>
    <p class="text-xs">By presenting your relationship style you can have matches that are looking for the same thing you are.</p>
  </div>

  <div class="my-5" data-controller="height" data-height-units-value="imperial">
    <%= form.label :height, class: "mb-2 text-sm font-medium text-gray-900 dark:text-gray-300" %>
    <%= form.range_field :height, min: 90, max: 243, class: "w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700", "data-height-target": "slider", "data-action": "height#update" %>
    <p data-height-target="display" class="inline text-slate-800 border-gray-200 outline-none px-3 py-2 mt-2 w-1/3"></p>
  </div>

  <div class="my-5 w-full">
    <%= form.label :smoking, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300" %>
    <%= form.select(:smoking, Profile::POSSIBLE_SMOKING_OPTIONS, {}, {class: "block p-2 mb-6 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"}) %>
  </div>

  <div class="my-5 w-full">
    <%= form.label :drinking, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300" %>
    <%= form.select(:drinking, Profile::POSSIBLE_DRINKING_OPTIONS, {}, {class: "block p-2 mb-6 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"}) %>
  </div>

  <div class="flex justify-between h-48">
    <div class="w-32 h-32 py-5 px-5">
      <%= link_to 'Cancel', :back %>
    </div>
    <div>
      <%= form.submit class: "rounded-lg py-3 px-5 bg-blue-600 text-white inline-block font-medium cursor-pointer" %>
    </div>
  </div>
<% end %>
