<div class="flex flex-col">
  <%= form.label :display_name, class: "block mt-4 mb-2 text-sm font-medium text-gray-900 dark:text-gray-300" do %>
    <%= t(:display_name) %> <%= error_messages_for(@profile, :display_name) %>
  <% end %>
  <%= form.text_field :display_name, class: "#{@profile.errors[:display_name].any? ? 'border-red-500 bg-red-50' : 'border-gray-200'} block shadow rounded-md border text-slate-800 outline-none px-3 py-2 mt-2 w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" %>

  <%= form.label :gender_id, class: "block mt-4 mb-2 text-sm font-medium text-gray-900 dark:text-gray-300" do %>
    <%= t(:gender) %> <%= error_messages_for(@profile, :gender_id) %>
  <% end %>
  <ul class="grid gap-2 w-full md:grid-cols-3">
    <% Gender.all.each_with_index do |option, index| %>
      <li>
        <%= form.radio_button :gender_id, option.id, class: "hidden peer", id: "gender_option_#{index}" %>
        <%= form.label :gender_id, for: "gender_option_#{index}", class: "group #{@profile.errors[:gender_id].any? ? 'border-red-500 bg-red-50' : 'border-gray-200'} inline-flex justify-between items-center p-3 pl-5 tracking-tighter w-full text-gray-500 bg-white rounded-full border cursor-pointer dark:border-gray-700 dark:peer-checked:text-blue-500 peer-checked:border-blue-600 peer-checked:text-blue-600 dark:text-gray-400 dark:bg-gray-800" do %>
          <%= option.display_label %>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none"
              viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor"
              class="size-6 hidden peer-checked:group-[]:block">
            <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
          </svg>
        <% end %>
      </li>
    <% end %>
  </ul>

  <h2 class="block mt-4 mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"><%= t(:born_on) %> <%= error_messages_for(@profile, :born_on) %>
  </h2>
  <div class="flex flex-row justify-center my-2" data-controller="field-errors">
    <%= form.date_select(:born_on, {
      order: [:day, :month, :year],
      start_year: DateTime.now.year - 18,
      end_year: DateTime.now.year - 100,
      prompt: { day: t(:day), month: t(:month), year: t(:year)},
      use_month_names: [
        t("date.january"),
        t("date.february"),
        t("date.march"),
        t("date.april"),
        t("date.may"),
        t("date.june"),
        t("date.july"),
        t("date.august"),
        t("date.september"),
        t("date.october"),
        t("date.november"),
        t("date.december")
      ],
      with_css_classes:
        {
          day:   "inline-flex min-w-fit h-12 border border-r-0 focus:border-x-2 items-center px-3 focus:outline-none rounded-l-md border-gray-300 text-gray-500 text-sm w-1/3 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 is_day_select",
          month: "inline-flex grow border focus:border-x-2 border-gray-300 text-gray-900 text-xs md:text-sm leading-6 focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 is_month_select",
          year:  "m-0 border border-l-0 focus:border-l-2 rounded-r-md border-gray-300 text-gray-900 text-xs md:text-sm leading-6 focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 is_year_select"
        }
      }, class: (@profile.errors[:born_on].any? ? "bg-red-50 border-red-500" : "bg-gray-50")
    ) %>
  </div>

  <h2 class="block mt-4 mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"><%= t(:location) %></h2>
  <div class="flex flex-col md:flex-row gap-1">
    <div class="flex flex-col md:w-1/3">
      <%= form.text_field :city, "data-location-target": "city", placeholder: t(:city), class: "#{@profile.errors[:city].any? ? 'bg-red-50 border-red-500' : 'bg-white border-gray-300'} py-3 px-2 outline-none flex-1 block rounded-md shadow sm:text-sm border dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" %>
      <%= error_messages_for(@profile, :city) %>
    </div>

    <div class="flex flex-col md:w-1/3">
      <%= form.text_field :state, "data-location-target": "state", placeholder: t(:province_or_state), class: "#{@profile.errors[:state].any? ? 'bg-red-50 border-red-500' : 'bg-white border-gray-300'} py-3 px-2 outline-none flex-1 block rounded-md shadow sm:text-sm border dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" %>
      <%= error_messages_for(@profile, :state) %>
    </div>

    <div class="flex flex-col md:w-1/3">
      <%= form.text_field :country, "data-location-target": "country", placeholder: t(:country), class: "#{@profile.errors[:country].any? ? 'bg-red-50 border-red-500' : 'bg-white border-gray-300'} py-3 px-2 outline-none flex-1 block rounded-md shadow sm:text-sm border dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" %>
      <%= error_messages_for(@profile, :country) %>
    </div>
  </div>
</div>
