<div class="mx-auto md:w-2/3 w-full flex">
  <div class="mx-auto">
  <div class="flex flex-col">
    <h2 class="text-2xl font-bold"><%= @event.name %></h2>
    <p class="text-lg"><%= @event.location %></p>
    <p class="text-lg"><%= @event.description %></p>

    <p><%= event_time_range(@event) %></p>

    <p>
      <%= @event.attendances.count %> attending.
    </p>

    <div class="flex justify-center">
      <% if authenticated? && attendance = @event.attendances.find_by(user: Current.user) %>
        <%= button_to t("events.attendances.cancel.cta"),
          event_attendance_path(@event, attendance),
          method: :delete, data: {
            turbo_confirm: t("events.attendances.cancel.confirm")
          },
          class: "rounded-full text-xl my-5 py-2 px-3 bg-red-100 dark:bg-slate-100 text-slate-500 dark:text-slate-500"
        %>
      <% else %>
        <%= button_to t("events.attendances.create.cta"),
          event_attendances_path(@event),
          method: :post,
          class: "rounded-full text-xl my-5 py-2 px-3 bg-slate-100 dark:bg-slate-500 text-slate-500 dark:text-slate-100"
        %>
      <% end %>
    </div>
  </div>

  <% if authenticated? && @event.creator == Current.user %>
    <div class="flex flex-row gap-2">
      <%= link_to "Edit this event", edit_event_path(@event), class: "mt-2 rounded-full py-3 px-5 bg-gray-100 dark:bg-gray-500 text-slate-500 dark:text-slate-100 inline-block font-medium" %>
      <%= button_to "Destroy this event", @event, method: :delete, class: "mt-2 rounded-full py-3 px-5 bg-gray-100 dark:bg-gray-500 text-slate-500 dark:text-slate-100 font-medium" %>
    </div>
  <% end %>
  </div>
</div>
